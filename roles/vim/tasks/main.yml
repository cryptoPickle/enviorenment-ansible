- name: Vim Package Manger
  shell: sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
 
- name: Install Pynvim
  pip:
    name: pynvim
    extra_args: "--user --upgrade"
    executable: pip3

- name: Vim Init
  template:
    src: "templates/{{item.name}}"
    dest: "~/.config/nvim/{{item.output}}"
    owner: "{{lookup('env', 'USER')}}"
    force: yes
  notify:
    - Install Vim Plugins
  loop:
    - name: init.vim.j2
      output: init.vim

